<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fetcher de uma proposição que já está na segunda casa • agoradigital</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Fetcher de uma proposição que já está na segunda casa">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">agoradigital</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/documentacao-dados-analyzer-camara.html">Dados gerados pelo Analyzer na Camara</a>
    </li>
    <li>
      <a href="../articles/documentacao-dados-analyzer-senado.html">Dados gerados pelo Analyzer no Senado</a>
    </li>
    <li>
      <a href="../articles/documentacao_analyzer_duas_casas.html">Analyzer de uma proposição que já está na segunda casa</a>
    </li>
    <li>
      <a href="../articles/documentacao_fetch_duas_casas.html">Fetcher de uma proposição que já está na segunda casa</a>
    </li>
    <li>
      <a href="../articles/documentacao_view_duas_casas.html">View de uma proposição que já está na segunda casa</a>
    </li>
    <li>
      <a href="../articles/introducao.html">Introdução ao Ágora Digital</a>
    </li>
    <li>
      <a href="../articles/tutorial_fetcher.html">Baixando Dados</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/analytics-ufcg/agora-digital">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Fetcher de uma proposição que já está na segunda casa</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/analytics-ufcg/agora-digital/blob/master/vignettes/documentacao_fetch_duas_casas.Rmd"><code>vignettes/documentacao_fetch_duas_casas.Rmd</code></a></small>
      <div class="hidden name"><code>documentacao_fetch_duas_casas.Rmd</code></div>

    </div>

    
    
<p>O fetcher realiza a importação dos dados das apis da Câmara e do Senado. Para aquelas proposições que já tramitaram na casa de origem e estão agora na casa revisora, temos que realizar alguns passos para adquirir as informações de tramitação. O primeiro é identificar os ids das proposições na Câmara e no Senado. De posse desses ids temos que chamar a função fetch_tramitacao(id_senado) e a rcongresso::fetch_tramitacao(id_camara).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">source</span>(here::<span class="kw">here</span>(<span class="st">"R/fetcher.R"</span>))
<span class="kw">library</span>(tidyverse)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">id_qualidade_fiscal_senado &lt;-<span class="st"> </span><span class="dv">91341</span>
id_qualidade_fiscal_camara &lt;-<span class="st"> </span><span class="dv">2088990</span>

<span class="kw">head</span>(<span class="kw"><a href="../reference/fetch_tramitacao.html">fetch_tramitacao</a></span>(id_qualidade_fiscal_senado))</code></pre></div>
<pre><code>## # A tibble: 6 x 30
##   codigo_tramitacao numero_autuacao data_tramitacao numero_ordem_tramitac…
##   &lt;chr&gt;             &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;                 
## 1 2346685           1               2016-06-21      1                     
## 2 2346271           1               2016-06-16      1                     
## 3 2344908           1               2016-06-07      2                     
## 4 2344786           1               2016-06-07      1                     
## 5 2343607           1               2016-05-30      3                     
## 6 2343589           1               2016-05-30      2                     
## # ... with 26 more variables: texto_tramitacao &lt;chr&gt;,
## #   indicador_recebimento &lt;chr&gt;, data_recebimento &lt;chr&gt;,
## #   origem_tramitacao_local_codigo_local &lt;chr&gt;,
## #   origem_tramitacao_local_tipo_local &lt;chr&gt;,
## #   origem_tramitacao_local_sigla_casa_local &lt;chr&gt;,
## #   origem_tramitacao_local_nome_casa_local &lt;chr&gt;,
## #   origem_tramitacao_local_sigla_local &lt;chr&gt;,
## #   origem_tramitacao_local_nome_local &lt;chr&gt;,
## #   destino_tramitacao_local_codigo_local &lt;chr&gt;,
## #   destino_tramitacao_local_tipo_local &lt;chr&gt;,
## #   destino_tramitacao_local_sigla_casa_local &lt;chr&gt;,
## #   destino_tramitacao_local_nome_casa_local &lt;chr&gt;,
## #   destino_tramitacao_local_sigla_local &lt;chr&gt;,
## #   destino_tramitacao_local_nome_local &lt;chr&gt;,
## #   situacao_codigo_situacao &lt;chr&gt;, situacao_sigla_situacao &lt;chr&gt;,
## #   situacao_descricao_situacao &lt;chr&gt;, codigo_materia &lt;chr&gt;,
## #   sigla_casa_identificacao_materia &lt;chr&gt;,
## #   nome_casa_identificacao_materia &lt;chr&gt;, sigla_subtipo_materia &lt;chr&gt;,
## #   descricao_subtipo_materia &lt;chr&gt;, numero_materia &lt;chr&gt;,
## #   ano_materia &lt;chr&gt;, indicador_tramitando &lt;chr&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(rcongresso::<span class="kw"><a href="../reference/fetch_tramitacao.html">fetch_tramitacao</a></span>(id_qualidade_fiscal_camara))</code></pre></div>
<pre><code>##           dataHora descricaoSituacao
## 1 2016-06-21T00:00              &lt;NA&gt;
## 2 2016-06-21T16:37              &lt;NA&gt;
## 3 2016-06-21T16:37              &lt;NA&gt;
## 4 2016-06-21T16:38              &lt;NA&gt;
## 5 2016-06-21T18:03              &lt;NA&gt;
## 6 2016-06-21T18:11              &lt;NA&gt;
##                           descricaoTramitacao
## 1                                 Recebimento
## 2 Notificação de Encaminhamento Fora de Fluxo
## 3                  Apresentação de Proposição
## 4      Notificação (CeDi) - Legislação Citada
## 5                              Encaminhamento
## 6                                 Recebimento
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                despacho
## 1 Recebido o Ofício nº 762/2016, do Senado Federal, que submete à revisão da Câmara dos Deputados,nos termos do art. 65 da Constituição Federal, o Projeto de Lei do Senado nº 229 - Complementar, de 2009, de autoria do Senador lasso Jereissati, constante dos autógrafos em anexo, que 'Estabelece, com amparo nos arts. 163 e 165, § 9º, da Constituição Federal, normas gerais sobre planejamento, orçamento, fundos, contabilidade, controle e avaliação na administração pública; altera a Lei Complementar nº 101, de 4 de maio de 2000; e revoga a Lei nº 4.320, de 17 de março de 1964".\r\n
## 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Realizar o Encaminhamento para SECAP(SGM)
## 3                                                                                                                                                                                                      Apresentação do Projeto de Lei Complementar n. 295/2016, pelo Senado Federal, que: "Estabelece, com amparo nos arts. 163 e 165,      § 9º, da Constituição Federal, normas gerais sobre planejamento, orçamento, fundos, contabilidade, controle e avaliação na administração pública; altera a Lei Complementar nº 101, de 4 de maio de 2000; e revoga a Lei nº 4.320, de 17 de março de 1964".
## 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Encaminhado  à CEDI (Legislação Citada)
## 5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Encaminhado à(ao) SECAP(SGM) através da guia de Remessa (GR/SEPRO) nº 2973/2016.
## 6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Recebimento pela SECAP(SGM).
##   id_prop idSituacao idTipoTramitacao                          regime
## 1 2088990         NA              500 Prioridade (Art. 151, II, RICD)
## 2 2088990         NA              910 Prioridade (Art. 151, II, RICD)
## 3 2088990         NA              100 Prioridade (Art. 151, II, RICD)
## 4 2088990         NA             1004 Prioridade (Art. 151, II, RICD)
## 5 2088990         NA              180 Prioridade (Art. 151, II, RICD)
## 6 2088990         NA              500 Prioridade (Art. 151, II, RICD)
##   sequencia siglaOrgao
## 1         1       MESA
## 2         3      SEPRO
## 3         2       PLEN
## 4         4       CEDI
## 5         5      SEPRO
## 6         6 SECAP(SGM)
##                                                  uriOrgao
## 1      https://dadosabertos.camara.leg.br/api/v2/orgaos/4
## 2 https://dadosabertos.camara.leg.br/api/v2/orgaos/100229
## 3    https://dadosabertos.camara.leg.br/api/v2/orgaos/180
## 4 https://dadosabertos.camara.leg.br/api/v2/orgaos/100046
## 5 https://dadosabertos.camara.leg.br/api/v2/orgaos/100229
## 6 https://dadosabertos.camara.leg.br/api/v2/orgaos/100001
##                                                                           url
## 1 http://www.camara.gov.br/proposicoesWeb/prop_mostrarintegra?codteor=1470027
## 2                                                                        &lt;NA&gt;
## 3 http://www.camara.gov.br/proposicoesWeb/prop_mostrarintegra?codteor=1470007
## 4                                                                        &lt;NA&gt;
## 5                                                                        &lt;NA&gt;
## 6                                                                        &lt;NA&gt;</code></pre>
<p>Para adquirir informações gerais sobre uma proposição usamos o método fetch_proposição(id, casa).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/fetch_proposicao.html">fetch_proposicao</a></span>(id_qualidade_fiscal_senado, <span class="st">'senado'</span>)</code></pre></div>
<pre><code>## # A tibble: 1 x 44
##   ementa_materia      explicacao_ementa_… observacao_mate… apelido_materia
##   &lt;chr&gt;               &lt;chr&gt;               &lt;chr&gt;            &lt;chr&gt;          
## 1 Estabelece normas … Estabelece normas … AGENDA BRASIL 2… LEI DA QUALIDA…
## # ... with 40 more variables: indexacao_materia &lt;chr&gt;,
## #   indicador_complementar &lt;chr&gt;, data_apresentacao &lt;chr&gt;,
## #   data_leitura &lt;chr&gt;, sigla_casa_leitura &lt;chr&gt;, nome_casa_leitura &lt;chr&gt;,
## #   codigo_materia &lt;chr&gt;, sigla_casa_identificacao_materia &lt;chr&gt;,
## #   nome_casa_identificacao_materia &lt;chr&gt;, sigla_subtipo_materia &lt;chr&gt;,
## #   descricao_subtipo_materia &lt;chr&gt;, numero_materia &lt;chr&gt;,
## #   ano_materia &lt;chr&gt;, indicador_tramitando &lt;chr&gt;, nome_autor &lt;chr&gt;,
## #   sigla_tipo_autor &lt;chr&gt;, descricao_tipo_autor &lt;chr&gt;, uf_autor &lt;chr&gt;,
## #   num_ordem_autor &lt;chr&gt;, indicador_outros_autores &lt;chr&gt;,
## #   codigo_parlamentar &lt;chr&gt;, nome_parlamentar &lt;chr&gt;,
## #   nome_completo_parlamentar &lt;chr&gt;, sexo_parlamentar &lt;chr&gt;,
## #   forma_tratamento &lt;chr&gt;, url_foto_parlamentar &lt;chr&gt;,
## #   url_pagina_parlamentar &lt;chr&gt;, email_parlamentar &lt;chr&gt;,
## #   sigla_partido_parlamentar &lt;chr&gt;, uf_parlamentar &lt;chr&gt;,
## #   codigo_assunto_especifico &lt;chr&gt;, assunto_especifico &lt;chr&gt;,
## #   codigo_assunto_geral &lt;chr&gt;, assunto_geral &lt;chr&gt;,
## #   nome_poder_origem &lt;chr&gt;, sigla_casa_origem &lt;chr&gt;,
## #   nome_casa_origem &lt;chr&gt;, page_url &lt;chr&gt;,
## #   proposicoes_relacionadas &lt;chr&gt;, proposicoes_apensadas &lt;chr&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/fetch_proposicao.html">fetch_proposicao</a></span>(id_qualidade_fiscal_camara, <span class="st">'camara'</span>)</code></pre></div>
<pre><code>## # A tibble: 1 x 38
##     ano dataApresentacao descricaoTipo  ementa      ementaDetalhada     id
##   &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;          &lt;chr&gt;       &lt;chr&gt;            &lt;int&gt;
## 1  2016 2016-06-21T16:37 Projeto de Le… Estabelece… &lt;NA&gt;            2.09e6
## # ... with 32 more variables: idTipo &lt;int&gt;, idTipoAutor &lt;dbl&gt;,
## #   justificativa &lt;chr&gt;, keywords &lt;chr&gt;, numero &lt;dbl&gt;, siglaTipo &lt;chr&gt;,
## #   statusProposicao.dataHora &lt;chr&gt;,
## #   statusProposicao.descricaoSituacao &lt;chr&gt;,
## #   statusProposicao.descricaoTramitacao &lt;chr&gt;,
## #   statusProposicao.despacho &lt;chr&gt;, statusProposicao.idSituacao &lt;int&gt;,
## #   statusProposicao.idTipoTramitacao &lt;int&gt;,
## #   statusProposicao.regime &lt;chr&gt;, statusProposicao.sequencia &lt;dbl&gt;,
## #   statusProposicao.siglaOrgao &lt;chr&gt;, statusProposicao.uriOrgao &lt;chr&gt;,
## #   statusProposicao.url &lt;chr&gt;, texto &lt;chr&gt;, tipoAutor &lt;chr&gt;, uri &lt;chr&gt;,
## #   uriAutores &lt;chr&gt;, uriOrgaoNumerador &lt;chr&gt;, uriPropAnterior &lt;chr&gt;,
## #   uriPropPosterior &lt;chr&gt;, uriPropPrincipal &lt;chr&gt;,
## #   uriUltimoRelator &lt;chr&gt;, urlInteiroTeor &lt;chr&gt;, urnFinal &lt;chr&gt;,
## #   page_url &lt;chr&gt;, page_html &lt;list&gt;, regime_tramitacao &lt;chr&gt;,
## #   forma_apreciacao &lt;chr&gt;</code></pre>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Laboratório Analytics (UFCG), Dado Capital.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
