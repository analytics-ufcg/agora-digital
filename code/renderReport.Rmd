---
title: "R Notebook"
output: html_notebook
---


```{r warning=FALSE}
library(rmarkdown)
library(here)

output_dir = here::here('docs/reports')

pls_168_senado <- 132865
pl_3729_camara <-257161
pl_490_camara <- 345311
pl_3751_camara <- 2056568
pl_6670_camara <- 2120775

lei_teto_remuneratorio_senado <- 127753
lei_teto_remuneratorio_camara <- 2121442

render_plot_single_house(pls_168_senado, 'senado')
render_plot_all(lei_teto_remuneratorio_senado, lei_teto_remuneratorio_camara)

render_plot_single_house <- function(param_id, param_casa) {
  render("gera-relatorio-projeto-por-casa.Rmd", "html_document", output_dir = output_dir, output_file = paste0('report_', param_id, '_', param_casa, '.html'), 
       params = list(
         id = param_id,
         casa = param_casa
         )
       )
}

render_plot_all <- function(senado_id, camara_id) {
  render("gera-relatorio-projeto-todas-as-casas.Rmd", "html_document", output_dir = output_dir, output_file = paste0('report_', senado_id, '_senado_',
                                                                                                                     camara_id, '_camara', '.html'), 
         params = list(
         senado_id = senado_id,
         camara_id = camara_id
         )
       )
}
```
